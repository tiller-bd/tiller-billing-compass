(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},33714,e=>{e.v("/_next/static/media/tiller.aaf8e244.jpeg")},63209,e=>{"use strict";let t=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},87486,e=>{"use strict";var t=e.i(43476),a=e.i(25913),s=e.i(75157);let l=(0,a.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function r({className:e,variant:a,...r}){return(0,t.jsx)("div",{className:(0,s.cn)(l({variant:a}),e),...r})}e.s(["Badge",()=>r])},84774,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(75157);let l=a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:l,className:(0,s.cn)("w-full caption-bottom text-sm",e),...a})}));l.displayName="Table";let r=a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("thead",{ref:l,className:(0,s.cn)("[&_tr]:border-b",e),...a}));r.displayName="TableHeader";let n=a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("tbody",{ref:l,className:(0,s.cn)("[&_tr:last-child]:border-0",e),...a}));n.displayName="TableBody",a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("tfoot",{ref:l,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let i=a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("tr",{ref:l,className:(0,s.cn)("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...a}));i.displayName="TableRow";let o=a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("th",{ref:l,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));o.displayName="TableHead";let d=a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("td",{ref:l,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));d.displayName="TableCell",a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("caption",{ref:l,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption",e.s(["Table",()=>l,"TableBody",()=>n,"TableCell",()=>d,"TableHead",()=>o,"TableHeader",()=>r,"TableRow",()=>i])},10204,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(48425),l=a.forwardRef((e,a)=>(0,t.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var r=e.i(25913),n=e.i(75157);let i=(0,r.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l,{ref:s,className:(0,n.cn)(i(),e),...a}));o.displayName=l.displayName,e.s(["Label",()=>o],10204)},76639,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(81140),l=e.i(20783),r=e.i(30030),n=e.i(10772),i=e.i(69340),o=e.i(26330),d=e.i(65491),c=e.i(74606),u=e.i(96626),m=e.i(48425),p=e.i(3536),x=e.i(85369),f=e.i(86312),h=e.i(91918),g="Dialog",[j,y]=(0,r.createContextScope)(g),[v,b]=j(g),N=e=>{let{__scopeDialog:s,children:l,open:r,defaultOpen:o,onOpenChange:d,modal:c=!0}=e,u=a.useRef(null),m=a.useRef(null),[p,x]=(0,i.useControllableState)({prop:r,defaultProp:o??!1,onChange:d,caller:g});return(0,t.jsx)(v,{scope:s,triggerRef:u,contentRef:m,contentId:(0,n.useId)(),titleId:(0,n.useId)(),descriptionId:(0,n.useId)(),open:p,onOpenChange:x,onOpenToggle:a.useCallback(()=>x(e=>!e),[x]),modal:c,children:l})};N.displayName=g;var w="DialogTrigger";a.forwardRef((e,a)=>{let{__scopeDialog:r,...n}=e,i=b(w,r),o=(0,l.useComposedRefs)(a,i.triggerRef);return(0,t.jsx)(m.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":$(i.open),...n,ref:o,onClick:(0,s.composeEventHandlers)(e.onClick,i.onOpenToggle)})}).displayName=w;var D="DialogPortal",[C,I]=j(D,{forceMount:void 0}),R=e=>{let{__scopeDialog:s,forceMount:l,children:r,container:n}=e,i=b(D,s);return(0,t.jsx)(C,{scope:s,forceMount:l,children:a.Children.map(r,e=>(0,t.jsx)(u.Presence,{present:l||i.open,children:(0,t.jsx)(c.Portal,{asChild:!0,container:n,children:e})}))})};R.displayName=D;var P="DialogOverlay",S=a.forwardRef((e,a)=>{let s=I(P,e.__scopeDialog),{forceMount:l=s.forceMount,...r}=e,n=b(P,e.__scopeDialog);return n.modal?(0,t.jsx)(u.Presence,{present:l||n.open,children:(0,t.jsx)(k,{...r,ref:a})}):null});S.displayName=P;var T=(0,h.createSlot)("DialogOverlay.RemoveScroll"),k=a.forwardRef((e,a)=>{let{__scopeDialog:s,...l}=e,r=b(P,s);return(0,t.jsx)(x.RemoveScroll,{as:T,allowPinchZoom:!0,shards:[r.contentRef],children:(0,t.jsx)(m.Primitive.div,{"data-state":$(r.open),...l,ref:a,style:{pointerEvents:"auto",...l.style}})})}),A="DialogContent",E=a.forwardRef((e,a)=>{let s=I(A,e.__scopeDialog),{forceMount:l=s.forceMount,...r}=e,n=b(A,e.__scopeDialog);return(0,t.jsx)(u.Presence,{present:l||n.open,children:n.modal?(0,t.jsx)(B,{...r,ref:a}):(0,t.jsx)(O,{...r,ref:a})})});E.displayName=A;var B=a.forwardRef((e,r)=>{let n=b(A,e.__scopeDialog),i=a.useRef(null),o=(0,l.useComposedRefs)(r,n.contentRef,i);return a.useEffect(()=>{let e=i.current;if(e)return(0,f.hideOthers)(e)},[]),(0,t.jsx)(F,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,s.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:(0,s.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,s.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),O=a.forwardRef((e,s)=>{let l=b(A,e.__scopeDialog),r=a.useRef(!1),n=a.useRef(!1);return(0,t.jsx)(F,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||l.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(n.current=!0));let a=t.target;l.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),F=a.forwardRef((e,s)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:c,...u}=e,m=b(A,r),x=a.useRef(null),f=(0,l.useComposedRefs)(s,x);return(0,p.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.FocusScope,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:c,children:(0,t.jsx)(o.DismissableLayer,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":$(m.open),...u,ref:f,onDismiss:()=>m.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U,{titleId:m.titleId}),(0,t.jsx)(W,{contentRef:x,descriptionId:m.descriptionId})]})]})}),H="DialogTitle",_=a.forwardRef((e,a)=>{let{__scopeDialog:s,...l}=e,r=b(H,s);return(0,t.jsx)(m.Primitive.h2,{id:r.titleId,...l,ref:a})});_.displayName=H;var L="DialogDescription",M=a.forwardRef((e,a)=>{let{__scopeDialog:s,...l}=e,r=b(L,s);return(0,t.jsx)(m.Primitive.p,{id:r.descriptionId,...l,ref:a})});M.displayName=L;var V="DialogClose",G=a.forwardRef((e,a)=>{let{__scopeDialog:l,...r}=e,n=b(V,l);return(0,t.jsx)(m.Primitive.button,{type:"button",...r,ref:a,onClick:(0,s.composeEventHandlers)(e.onClick,()=>n.onOpenChange(!1))})});function $(e){return e?"open":"closed"}G.displayName=V;var z="DialogTitleWarning",[q,K]=(0,r.createContext)(z,{contentName:A,titleName:H,docsSlug:"dialog"}),U=({titleId:e})=>{let t=K(z),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},W=({contentRef:e,descriptionId:t})=>{let s=K("DialogDescriptionWarning"),l=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return a.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(l))},[l,e,t]),null},X=e.i(37727),Z=e.i(75157);let J=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(S,{ref:s,className:(0,Z.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));J.displayName=S.displayName;let Q=a.forwardRef(({className:e,children:a,...s},l)=>(0,t.jsxs)(R,{children:[(0,t.jsx)(J,{}),(0,t.jsxs)(E,{ref:l,className:(0,Z.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[a,(0,t.jsxs)(G,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,t.jsx)(X.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));Q.displayName=E.displayName;let Y=({className:e,...a})=>(0,t.jsx)("div",{className:(0,Z.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});Y.displayName="DialogHeader";let ee=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(_,{ref:s,className:(0,Z.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));ee.displayName=_.displayName,a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(M,{ref:s,className:(0,Z.cn)("text-sm text-muted-foreground",e),...a})).displayName=M.displayName,e.s(["Dialog",()=>N,"DialogContent",()=>Q,"DialogHeader",()=>Y,"DialogTitle",()=>ee],76639)},59062,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(46932),l=e.i(75254);let r=(0,l.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var n=e.i(55436),i=e.i(50627),o=e.i(87316);let d=(0,l.default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),c=(0,l.default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var u=e.i(63209),m=e.i(92169),p=e.i(19455),x=e.i(93479),f=e.i(87486),h=e.i(10204),g=e.i(67489),j=e.i(84774),y=e.i(76639),v=e.i(18566),b=e.i(9254),N=e.i(8406);function w(){let[e,l]=(0,a.useState)("/billing"),[w,D]=(0,a.useState)(""),[C,I]=(0,a.useState)("all"),[R,P]=(0,a.useState)([]),[S,T]=(0,a.useState)([]),[k,A]=(0,a.useState)(!1),[E,B]=(0,a.useState)(!1),O=(0,v.useRouter)(),{toast:F}=(0,N.useToast)(),[H,_]=(0,a.useState)({projectId:"",phaseId:"",amount:"",dueDate:"",status:"PENDING"});(0,a.useEffect)(()=>{L()},[]);let L=async()=>{let[e,t]=await Promise.all([(0,b.fetchBills)(),(0,b.fetchProjects)()]);P(e),T(t)},M=e=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",notation:"compact",maximumFractionDigits:1}).format(e),V=R.filter(e=>{let t=e.projectName.toLowerCase().includes(w.toLowerCase()),a="all"===C||e.status===C;return t&&a}),G=R.reduce((e,t)=>({total:e.total+t.amount,received:e.received+("PAID"===t.status?t.amount:0),pending:e.pending+("PENDING"===t.status?t.amount:0)}),{total:0,received:0,pending:0}),$=S.find(e=>e.id===H.projectId),z=async e=>{(e.preventDefault(),H.projectId&&H.amount&&H.dueDate)?(B(!0),await (0,b.createBill)(H.projectId,{phaseId:H.phaseId||"manual",amount:parseFloat(H.amount),dueDate:new Date(H.dueDate),status:H.status})&&(F({title:"Bill Created",description:"New bill has been added successfully"}),A(!1),_({projectId:"",phaseId:"",amount:"",dueDate:"",status:"PENDING"}),L()),B(!1)):F({title:"Error",description:"Please fill all required fields",variant:"destructive"})};return(0,t.jsxs)(m.DashboardLayout,{title:"Billing",currentPath:e,onNavigate:e=>{l(e),O.push(e)},children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Billing"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Track all project bills and payments"})]}),(0,t.jsxs)(p.Button,{className:"gap-2",onClick:()=>A(!0),children:[(0,t.jsx)(r,{className:"w-4 h-4"}),"Add Bill"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(i.Receipt,{className:"w-5 h-5 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Billed"}),(0,t.jsx)("p",{className:"text-xl font-bold",children:M(G.total)})]})]})}),(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-success/10 flex items-center justify-center",children:(0,t.jsx)(d,{className:"w-5 h-5 text-success"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Received"}),(0,t.jsx)("p",{className:"text-xl font-bold text-success",children:M(G.received)})]})]})}),(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass-card rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-warning/10 flex items-center justify-center",children:(0,t.jsx)(c,{className:"w-5 h-5 text-warning"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Pending"}),(0,t.jsx)("p",{className:"text-xl font-bold text-warning",children:M(G.pending)})]})]})})]}),(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(n.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(x.Input,{placeholder:"Search bills, projects...",value:w,onChange:e=>D(e.target.value),className:"pl-10"})]}),(0,t.jsxs)(g.Select,{value:C,onValueChange:I,children:[(0,t.jsx)(g.SelectTrigger,{className:"w-full sm:w-[180px]",children:(0,t.jsx)(g.SelectValue,{placeholder:"Status"})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"all",children:"All Status"}),(0,t.jsx)(g.SelectItem,{value:"PAID",children:"Paid"}),(0,t.jsx)(g.SelectItem,{value:"PENDING",children:"Pending"})]})]})]})}),(0,t.jsxs)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card rounded-xl overflow-hidden",children:[(0,t.jsxs)(j.Table,{children:[(0,t.jsx)(j.TableHeader,{children:(0,t.jsxs)(j.TableRow,{children:[(0,t.jsx)(j.TableHead,{children:"Project"}),(0,t.jsx)(j.TableHead,{children:"Due Date"}),(0,t.jsx)(j.TableHead,{children:"Amount"}),(0,t.jsx)(j.TableHead,{children:"Status"})]})}),(0,t.jsx)(j.TableBody,{children:V.map((e,a)=>(0,t.jsxs)(s.motion.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*a},className:"hover:bg-muted/50 cursor-pointer",children:[(0,t.jsx)(j.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:(0,t.jsx)(i.Receipt,{className:"w-5 h-5 text-muted-foreground"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.projectName}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.id})]})]})}),(0,t.jsx)(j.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,t.jsx)(o.Calendar,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:new Date(e.dueDate).toLocaleDateString()})]})}),(0,t.jsx)(j.TableCell,{children:(0,t.jsx)("span",{className:"font-medium",children:M(e.amount)})}),(0,t.jsx)(j.TableCell,{children:(0,t.jsxs)(f.Badge,{className:`gap-1 ${(e=>{switch(e){case"PAID":return"bg-success/10 text-success";case"PARTIAL":return"bg-warning/10 text-warning";default:return"bg-muted text-muted-foreground"}})(e.status)}`,children:[(e=>{switch(e){case"PAID":return(0,t.jsx)(d,{className:"w-4 h-4"});case"PARTIAL":return(0,t.jsx)(c,{className:"w-4 h-4"});case"PENDING":return(0,t.jsx)(u.AlertCircle,{className:"w-4 h-4"});default:return null}})(e.status),e.status]})})]},e.id))})]}),0===V.length&&(0,t.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:"No bills found matching your criteria."})]})]}),(0,t.jsx)(y.Dialog,{open:k,onOpenChange:A,children:(0,t.jsxs)(y.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsx)(y.DialogHeader,{children:(0,t.jsx)(y.DialogTitle,{children:"Add New Bill"})}),(0,t.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.Label,{children:"Project *"}),(0,t.jsxs)(g.Select,{value:H.projectId,onValueChange:e=>_({...H,projectId:e,phaseId:""}),children:[(0,t.jsx)(g.SelectTrigger,{children:(0,t.jsx)(g.SelectValue,{placeholder:"Select project"})}),(0,t.jsx)(g.SelectContent,{children:S.map(e=>(0,t.jsx)(g.SelectItem,{value:e.id,children:e.name},e.id))})]})]}),$&&$.phases.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.Label,{children:"Phase (optional)"}),(0,t.jsxs)(g.Select,{value:H.phaseId,onValueChange:e=>_({...H,phaseId:e}),children:[(0,t.jsx)(g.SelectTrigger,{children:(0,t.jsx)(g.SelectValue,{placeholder:"Select phase"})}),(0,t.jsx)(g.SelectContent,{children:$.phases.map(e=>(0,t.jsxs)(g.SelectItem,{value:e.id,children:[e.title," (",e.percentage,"%)"]},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.Label,{children:"Amount (BDT) *"}),(0,t.jsx)(x.Input,{type:"number",placeholder:"Enter amount",value:H.amount,onChange:e=>_({...H,amount:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.Label,{children:"Due Date *"}),(0,t.jsx)(x.Input,{type:"date",value:H.dueDate,onChange:e=>_({...H,dueDate:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.Label,{children:"Status"}),(0,t.jsxs)(g.Select,{value:H.status,onValueChange:e=>_({...H,status:e}),children:[(0,t.jsx)(g.SelectTrigger,{children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"PENDING",children:"Pending"}),(0,t.jsx)(g.SelectItem,{value:"PAID",children:"Paid"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,t.jsx)(p.Button,{type:"button",variant:"outline",onClick:()=>A(!1),className:"flex-1",children:"Cancel"}),(0,t.jsx)(p.Button,{type:"submit",className:"flex-1",disabled:E,children:E?"Creating...":"Create Bill"})]})]})]})})]})}e.s(["default",()=>w],59062)}]);